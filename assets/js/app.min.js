"use strict";var EVENT_KEY_WINDOW_RESIZE="window_resize",EVENT_KEY_WINDOW_SCROLL="window_scroll",EVENT_KEY_WINDOW_SCROLL_END="window_scroll_end",EVENT_KEY_DOCUMENT_READY="document_ready",animationDuration=.4,animationCountEase=Power0.easeNone,animationFadeEase=Power0.easeNone,animationTransformEase=Sine.easeInOut,animationColorEase=Sine.easeInOut,preloadTimeline=new TimelineLite({}),viewportTimeline=new TimelineLite({onUpdate:function(){}}),$doc=$(document),$win=$(window),Modernizr=window.Modernizr;function initAppEvents(e){var i=window.APP;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];-1!==a.events.indexOf(e)&&void 0!==a.selector&&void 0!==a.init&&$(a.selector).length>0&&a.init()}}$.fn.scrollEnd=function(e,i){$(this).scroll(function(){var n=$(this);n.data("scrollTimeout")&&clearTimeout(n.data("scrollTimeout")),n.data("scrollTimeout",setTimeout(e,i))})},function(e,i){i.APP=[],$win.resize(function(){initAppEvents(EVENT_KEY_WINDOW_RESIZE)}),$win.scroll(function(){initAppEvents(EVENT_KEY_WINDOW_SCROLL)}),$doc.ready(function(){initAppEvents(EVENT_KEY_DOCUMENT_READY)}),$win.scrollEnd(function(){initAppEvents(EVENT_KEY_WINDOW_SCROLL_END)},500)}(jQuery,this);var animationFrameDuration=.01,checkLoadTime=!1;!function(e,i){i.APP.preloader={selector:".preloader",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var i=e(this.selector),n=i.find(".preloader-wrap svg").find("path"),a=parseInt(n.css("stroke-dasharray")),t=Date.now();e("main").waitForImages(function(){var a=checkLoadTime?(Date.now()-t)/1e3:a;preloadTimeline.to(n,a,{"stroke-dashoffset":0,ease:animationCountEase}).to(n,animationDuration,{fill:"#000",ease:animationColorEase}).to(i,animationDuration,{autoAlpha:0,y:"-100%",ease:animationTransformEase}).fromTo(e("main"),animationDuration,{y:$win.height(),ease:animationTransformEase},{y:0},"+="+animationDuration/2).add(viewportTimeline,"-="+animationBlockDelay).fromTo(e("header"),2*animationDuration,{y:"-100%",ease:animationTransformEase},{y:"0%"},"-="+viewportTimeline.duration())},function(e,i,o){var l=e/i,r=checkLoadTime?(Date.now()-t)/1e3:r,s=l*a;t=Date.now(),preloadTimeline.to(n,r,{"stroke-dashoffset":-a+s,ease:animationCountEase})})}}}(jQuery,this);var animationFullwidthMenuTimeline=new TimelineLite({paused:1,onComplete:function(){window.APP.viewportAnimations.init()},onReverseComplete:function(){$(window.APP.childFullwidthMenu.selector).find("ul").css("display","none")}});!function(e,i){i.APP.childFullwidthMenu={selector:"header nav > ul > li.child-fullwidth",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var i=this,n=e(i.selector),a=e("header nav > ul > li:not(.child-fullwidth)"),t=e("header .down"),o=n.find("ul"),l=e("header");animationFullwidthMenuTimeline.set(t,{display:"block"}).set(l.find(".up"),{backgroundColor:"#000"}).to(t,animationDuration,{y:"0%",ease:animationTransformEase}).to(o,animationDuration,{autoAlpha:1,ease:animationFadeEase},"-="+animationDuration),n.mouseenter(function(){i.show(e(this))}),a.mouseenter(function(){i.hide()}),l.mouseleave(function(){i.hide()})},show:function(i){var n=e(this.selector).find("ul"),a=i.find("ul"),t=new TimelineLite;animationFullwidthMenuTimeline.progress()>0&&"none"===a.css("display")&&t.set(n,{display:"none"}),t.set(a,{display:a.hasClass("columns-2")?"flex":"block"}),animationFullwidthMenuTimeline.play()},hide:function(){animationFullwidthMenuTimeline.reverse()}}}(jQuery,this),function(e,i){i.APP.contentHeaderPadding={selector:"main",events:[EVENT_KEY_DOCUMENT_READY,EVENT_KEY_WINDOW_RESIZE],init:function(){var i=e(this.selector),n=e("section.banner-intro"),a=e("header"),t=a.find(".up").height();i.each(function(){var i=e(this),o=i.children().first();o.is(n)||((o.hasClass("fullheight")?o:i).css("padding-top",t),a.addClass("fixed"))})}}}(jQuery,this),function(e,i){i.APP.googleMap={selector:".google-map",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var i=this;e(i.selector).each(function(){var n=e(this),a=n.data("map-zoom"),t=n.data("map-center-lat"),o=n.data("map-center-long"),l=n.data("latlong"),r=n.data("pin-image"),s={center:new google.maps.LatLng(t,o),styles:[{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#e6e6e6"}]},{featureType:"all",elementType:"labels.icon",stylers:[{saturation:-100}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#333333"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#666666"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#595959"}]}],zoom:a,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,panControl:!1,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,fullscreenControl:!1},m=new google.maps.Map(n[0],s);google.maps.event.addListenerOnce(m,"tilesloaded",function(){if(r.length>0){var n=new Image;n.src=r,e(n).on("load",function(){i.setMarkers(m,l,r)})}})})},setMarkers:function(e,i,n){function a(a){var o,l=i[a].lat_long.split(","),r=new google.maps.Marker({position:new google.maps.LatLng(l[0],l[1]),map:e,animation:google.maps.Animation.DROP,icon:n,optimized:!1}),s=i[a].hasOwnProperty("content")&&i[a].content?'<div class="marker-info-wrap">'+i[a].content+"</div>":null;if("undefined"!=typeof InfoBox&&s){var m=new InfoBox({alignBottom:!0,content:s,disableAutoPan:!1,maxWidth:380,closeBoxMargin:"10px 10px 10px 10px",closeBoxURL:"http://www.google.com/intl/en_us/mapfiles/close.gif",pixelOffset:new google.maps.Size(-193,-41),zIndex:null,infoBoxClearance:new google.maps.Size(1,1)});t.push(m),google.maps.event.addListener(r,"click",(o=a,function(){t[o].open(e,this)}))}}for(var t=[],o=0;o+1<=i.length;o++)setTimeout(a,250*o,o)}}}(jQuery,this);var mobilemenuTimeline=new TimelineLite({paused:1}),mobileHeaderDom=$("header .up"),mobileMenuDom=$(".mobile-menu-wrapper");mobilemenuTimeline.set($("header"),{position:"fixed"}).to(mobileHeaderDom,animationDuration,{backgroundColor:"#000",ease:animationColorEase}).fromTo(mobileMenuDom,animationDuration,{autoAlpha:0,y:"-100%",ease:animationTransformEase},{autoAlpha:1,y:"0%"},"-="+animationDuration),function(e,i){i.APP.mobileMenu={selector:".mobile-menu-toggle",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var i=e(this.selector);i.on("click",function(){i.toggleClass("is-active"),i.hasClass("is-active")?mobilemenuTimeline.play():mobilemenuTimeline.reverse()})}}}(jQuery,this),function(e,i){i.APP.productSlider={selector:".block-product-slider",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var i=this;e(i.selector).each(function(){var n=e(this),a=n.find(".thumbnails .thumbnail"),t=n.find(".thumbnails .arrow-prev"),o=n.find(".thumbnails .arrow-next");a.click(function(a){var t=e(this);a.preventDefault(),t.hasClass("active")||i.set(t.index(),n)}),t.click(function(e){var a=n.find(".thumbnails .thumbnail.active").index();e.preventDefault(),i.set(a-1,n)}),o.click(function(e){var a=n.find(".thumbnails .thumbnail.active").index();i.set(a+1,n)})})},set:function(e,i){var n=i.find(".current img"),a=i.find(".thumbnails .thumbnail"),t=e===a.length?0:e<0?a.length-1:e,o=a.eq(t),l=o.data("img-src")?o.data("img-src"):o.find("img").attr("src");a.removeClass("active"),o.addClass("active"),(new TimelineLite).to(n,animationDuration,{opacity:0,ease:animationFadeEase}).set(n,{src:l}).to(n,animationDuration,{opacity:1,ease:animationFadeEase})}}}(jQuery,this);var smoothScrollOptions={animationType:"linear",speed:500,stepAmount:250,type:"wheel"};!function(e,i){i.APP.smoothScroll={selector:"html,body",events:[],init:function(){var i=e(this.selector);"function"==typeof e.fn.smoothScroll&&i.smoothScroll(smoothScrollOptions)}}}(jQuery,this),function(e,i){i.APP.tabs={selector:".tabs",events:[EVENT_KEY_DOCUMENT_READY],init:function(){e(this.selector).each(function(){e(this).find(".title-main").click(function(i){var n=e(this).parents(".tab");i.preventDefault(),n.toggleClass("active")})})}}}(jQuery,this);var ANIMATION_KEY_OVERLAY_LEFT="a-o-l",ANIMATION_KEY_OVERLAY_BOTTOM="a-o-b",ANIMATION_KEY_APPEAR_BOTTOM="a-a-b",ANIMATION_KEY_APPEAR="a-a",ANIMATION_OVERLAY_CLASS="animate-overlay",ANIMATION_CONTENT_CLASS="animate-content",appearCoordinateFrom=50,animationBlockDuration=1,animationBlockDelay=.1,overlayDuration=animationBlockDuration/2;function animateOverlayLeft(e){if(e.is(":empty")||e.hasClass("animate"))return!1;e.addClass("animate");var i=e.is(":header")||e.is(":text")||e.is("a")?"span":"div",n="."+ANIMATION_OVERLAY_CLASS+":first-child",a=e.find(n),t="."+ANIMATION_CONTENT_CLASS,o=e.find(t);if(o.length&&a.length)return!1;o.length||(e.html("<"+i+' class="'+ANIMATION_CONTENT_CLASS+'">'+e.html()+"</"+i+">"),o=e.find(t)),a.length||(e.prepend("<"+i+' class="'+ANIMATION_OVERLAY_CLASS+'"></'+i+">"),a=e.find(n));var l=initAnimationTimeline();l.set(e,{autoAlpha:1}).fromTo(a,overlayDuration,{left:"-100%",ease:animationTransformEase},{left:"0%"}).fromTo(o,overlayDuration,{autoAlpha:0,ease:animationFadeEase},{autoAlpha:1}).to(a,overlayDuration,{left:"100%",ease:animationTransformEase},"-="+overlayDuration),addToViewPortTimeline(l)}function animateOverlayBottom(e){if(e.is(":empty")||e.hasClass("animate"))return!1;e.addClass("animate");var i=e.is(":header")||e.is(":text")||e.is("a")?"span":"div",n="."+ANIMATION_OVERLAY_CLASS+":first-child",a=e.find(n),t="."+ANIMATION_CONTENT_CLASS,o=e.find(t);if(o.length&&a.length)return!1;o.length||(e.html("<"+i+' class="'+ANIMATION_CONTENT_CLASS+'">'+e.html()+"</"+i+">"),o=e.find(t)),a.length||(e.prepend("<"+i+' class="'+ANIMATION_OVERLAY_CLASS+'"></'+i+">"),a=e.find(n));var l=initAnimationTimeline();l.set(e,{autoAlpha:1}).fromTo(a,overlayDuration,{top:"100%",ease:animationTransformEase},{top:"0%"}).fromTo(o,overlayDuration,{autoAlpha:0,ease:animationFadeEase},{autoAlpha:1}).to(a,overlayDuration,{top:"-100%",ease:animationTransformEase},"-="+overlayDuration),addToViewPortTimeline(l)}function animateAppearBottom(e){if(e.hasClass("animate"))return!1;e.addClass("animate");var i=initAnimationTimeline();i.fromTo(e,animationBlockDuration,{autoAlpha:0,y:appearCoordinateFrom,ease:animationTransformEase},{autoAlpha:1,y:0}),addToViewPortTimeline(i)}function animateAppear(e){if(e.hasClass("animate"))return!1;e.addClass("animate");var i=initAnimationTimeline();i.fromTo(e,animationBlockDuration,{autoAlpha:0,ease:animationFadeEase},{autoAlpha:1}),addToViewPortTimeline(i)}function initAnimationTimeline(){return new TimelineLite({})}function addToViewPortTimeline(e){var i=viewportTimeline.isActive()?"-="+(animationBlockDuration-animationBlockDelay):"+="+animationBlockDelay;viewportTimeline.add(e,i)}!function(e,i){i.APP.viewportAnimations={selector:":in-viewport",events:[EVENT_KEY_DOCUMENT_READY,EVENT_KEY_WINDOW_SCROLL],init:function(){e(this.selector).each(function(){var n=e(this),a=i.getComputedStyle(this,":before").content.replace(/[\"\']/g,"");"0"===n.css("opacity")&&""!==a&&(a===ANIMATION_KEY_OVERLAY_LEFT&&animateOverlayLeft(n),a===ANIMATION_KEY_OVERLAY_BOTTOM&&animateOverlayBottom(n),a===ANIMATION_KEY_APPEAR_BOTTOM&&animateAppearBottom(n),a===ANIMATION_KEY_APPEAR&&animateAppear(n))})}}}(jQuery,this);