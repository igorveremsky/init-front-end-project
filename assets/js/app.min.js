"use strict";var EVENT_KEY_WINDOW_RESIZE="window_resize",EVENT_KEY_WINDOW_SCROLL="window_scroll",EVENT_KEY_DOCUMENT_READY="document_ready",animationDuration=.4,$doc=$(document),win=$(window),Modernizr=window.Modernizr;function initAppEvents(e){var t=window.APP;for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];-1!==a.events.indexOf(e)&&void 0!==a.selector&&void 0!==a.init&&$(a.selector).length>0&&a.init()}}!function(e,t){t.APP=[],win.resize(function(){initAppEvents(EVENT_KEY_WINDOW_RESIZE)}),win.scroll(function(){initAppEvents(EVENT_KEY_WINDOW_SCROLL)}),$doc.ready(function(){initAppEvents(EVENT_KEY_DOCUMENT_READY)})}(jQuery,this),function(e,t){t.APP.googleMap={selector:".google-map",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var t=this;e(t.selector).each(function(){var n=e(this),a=n.data("map-style-color"),o=null!=n.data("map-is-light"),i=n.data("map-zoom"),s=n.data("map-center-lat"),r=n.data("map-center-long"),l=n.data("latlong"),m=n.data("pin-image"),p=[{featureType:"all",stylers:[{invert_lightness:!o},{saturation:-30}]},{featureType:"road",stylers:[{color:a||"#0000b0"}]}],c={center:new google.maps.LatLng(s,r),styles:p,zoom:i,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,panControl:!1,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,fullscreenControl:!1},E=new google.maps.Map(n[0],c);google.maps.event.addListenerOnce(E,"tilesloaded",function(){if(m.length>0){var n=new Image;n.src=m,e(n).on("load",function(){t.setMarkers(E,l,m)})}})})},setMarkers:function(e,t,n){function a(a){var i,s=t[a].lat_long.split(","),r=new google.maps.Marker({position:new google.maps.LatLng(s[0],s[1]),map:e,animation:google.maps.Animation.DROP,icon:n,optimized:!1}),l=t[a].hasOwnProperty("content")&&t[a].content?'<div class="marker-info-wrap">'+t[a].content+"</div>":null;if("undefined"!=typeof InfoBox&&l){var m=new InfoBox({alignBottom:!0,content:l,disableAutoPan:!1,maxWidth:380,closeBoxMargin:"10px 10px 10px 10px",closeBoxURL:"http://www.google.com/intl/en_us/mapfiles/close.gif",pixelOffset:new google.maps.Size(-193,-41),zIndex:null,infoBoxClearance:new google.maps.Size(1,1)});o.push(m),google.maps.event.addListener(r,"click",(i=a,function(){o[i].open(e,this)}))}}for(var o=[],i=0;i+1<=t.length;i++)setTimeout(a,250*i,i)}}}(jQuery,this),function(e,t){t.APP.mobileMenu={selector:".mobile-menu-toggle",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var t=e(this.selector),n=e(".mobile-menu-wrapper");t.on("click",function(){return n.toggleClass("is-active")&&t.toggleClass("is-active")})}}}(jQuery,this);var smoothScrollOptions={animationType:"linear",speed:500,stepAmount:250,type:"wheel"};!function(e,t){t.APP.smoothScroll={selector:"html,body",events:[EVENT_KEY_DOCUMENT_READY],init:function(){var t=e(this.selector);"function"==typeof e.fn.smoothScroll&&t.smoothScroll(smoothScrollOptions)}}}(jQuery,this);var ANIMATION_KEY_OVERLAY_LEFT="a-o-l",ANIMATION_KEY_OVERLAY_BOTTOM="a-o-b",ANIMATION_KEY_APPEAR_BOTTOM="a-a-b",ANIMATION_OVERLAY_CLASS="animate-overlay",ANIMATION_CONTENT_CLASS="animate-content",appearEase=Power2.easeOut,appearDuration=.4,appearCoordinateFrom=100,animationOverlayEase=Sine.easeInOut,animationFadeEase=Sine.easeInOut;function animateOverlayLeft(e){if(e.is(":empty")||e.hasClass("animate"))return!1;e.addClass("animate");var t=e.is(":header")||e.is(":text")||e.is("a")?"span":"div",n="."+ANIMATION_OVERLAY_CLASS+":first-child",a=e.find(n),o="."+ANIMATION_CONTENT_CLASS,i=e.find(o);if(i.length&&a.length)return!1;i.length||(e.html("<"+t+' class="'+ANIMATION_CONTENT_CLASS+'">'+e.html()+"</"+t+">"),i=e.find(o)),a.length||(e.prepend("<"+t+' class="'+ANIMATION_OVERLAY_CLASS+'"></'+t+">"),a=e.find(n)),(new TimelineLite).set(e,{autoAlpha:1}).fromTo(a,animationDuration,{left:"-100%",ease:animationOverlayEase},{left:"0%"}).fromTo(i,animationDuration,{autoAlpha:0,ease:animationFadeEase},{autoAlpha:1}).to(a,animationDuration,{left:"100%",ease:animationOverlayEase},"-="+animationDuration)}function animateOverlayBottom(e){if(e.is(":empty")||e.hasClass("animate"))return!1;e.addClass("animate");var t=e.is(":header")||e.is(":text")||e.is("a")?"span":"div",n="."+ANIMATION_OVERLAY_CLASS+":first-child",a=e.find(n),o="."+ANIMATION_CONTENT_CLASS,i=e.find(o);if(i.length&&a.length)return!1;i.length||(e.html("<"+t+' class="'+ANIMATION_CONTENT_CLASS+'">'+e.html()+"</"+t+">"),i=e.find(o)),a.length||(e.prepend("<"+t+' class="'+ANIMATION_OVERLAY_CLASS+'"></'+t+">"),a=e.find(n)),(new TimelineLite).set(e,{autoAlpha:1}).fromTo(a,animationDuration,{top:"100%",ease:animationOverlayEase},{top:"0%"}).fromTo(i,animationDuration,{autoAlpha:0,ease:animationFadeEase},{autoAlpha:1}).to(a,animationDuration,{top:"-100%",ease:animationOverlayEase},"-="+animationDuration)}function animateAppearBottom(e){if(e.hasClass("animate"))return!1;e.addClass("animate"),(new TimelineLite).fromTo(e,appearDuration,{opacity:0,y:appearCoordinateFrom,ease:appearEase},{opacity:1,y:0})}!function(e,t){t.APP.viewportAnimations={selector:":in-viewport",events:[EVENT_KEY_DOCUMENT_READY,EVENT_KEY_WINDOW_SCROLL],init:function(){e(this.selector).each(function(){var n=e(this),a=t.getComputedStyle(this,":before").content.replace(/[\"\']/g,"");a===ANIMATION_KEY_OVERLAY_LEFT&&animateOverlayLeft(n),a===ANIMATION_KEY_OVERLAY_BOTTOM&&animateOverlayBottom(n),a===ANIMATION_KEY_APPEAR_BOTTOM&&animateAppearBottom(n)})}}}(jQuery,this);